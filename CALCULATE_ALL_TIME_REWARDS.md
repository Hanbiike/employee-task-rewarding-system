# –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è CEO, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞ –≤—Å–µ –ø–µ—Ä–∏–æ–¥—ã —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞–π–º–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞ –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

–°—Ç—Ä–∞–Ω–∏—Ü–∞: `/modules/rewards/list.php` (–¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è CEO)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ CEO
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è"
3. –í –∫–∞—Ä—Ç–æ—á–∫–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è" –Ω–∞–π–¥–∏—Ç–µ —Ñ–æ—Ä–º—É —Å –∫–Ω–æ–ø–∫–æ–π **"üîÑ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∑–∞ –í–°–ï –í–†–ï–ú–Ø –¥–ª—è –í–°–ï–•"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–µ—Ä–∏–æ–¥–∞ (–º–µ—Å—è—á–Ω—ã–µ, –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ –∏–ª–∏ –≥–æ–¥–æ–≤—ã–µ)
5. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É
6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –¥–∏–∞–ª–æ–≥–æ–≤–æ–º –æ–∫–Ω–µ

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Å–∞–º—É—é —Ä–∞–Ω–Ω—é—é –¥–∞—Ç—É –Ω–∞–π–º–∞ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–µ—Å—è—Ü–µ–≤ –æ—Ç —ç—Ç–æ–π –¥–∞—Ç—ã –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞:
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- ‚ö†Ô∏è **–ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç** (–æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤ –∫–æ–º–ø–∞–Ω–∏–∏ –º–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è)
- –õ–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 5 –º–∏–Ω—É—Ç (300 —Å–µ–∫—É–Ω–¥)
- –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω–∞ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ **—Ç–æ–ª—å–∫–æ –¥–ª—è CEO**
- –†–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ë–∞–∑–æ–≤—ã—Ö –∑–∞—Ä–ø–ª–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
  - KPI –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
  - –ü—Ä–µ–º–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–¥–µ–ª–∞ (–¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–µ–º–∏–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ –∫–ª–∞—Å—Å–µ Reward

1. **`getAllPeriods()`** - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –º–µ—Å—è—Ü–µ–≤ —Å –¥–∞—Ç—ã –Ω–∞–π–º–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

2. **`calculateForAllEmployeesAllTime($periodType)`** - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞ –≤—Å–µ –ø–µ—Ä–∏–æ–¥—ã

3. **`calculateForAllManagersAllTime($periodType)`** - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∑–∞ –≤—Å–µ –ø–µ—Ä–∏–æ–¥—ã

4. **`calculateForEveryoneAllTime($periodType)`** - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ + –º–µ–Ω–µ–¥–∂–µ—Ä—ã) –∑–∞ –≤—Å–µ –ø–µ—Ä–∏–æ–¥—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```php
[
    'periods' => [
        [
            'period' => '2020-01-01',
            'employees' => 4,  // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
            'managers' => 2
        ],
        // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
    ],
    'total_periods' => 58,           // –≤—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø–µ—Ä–∏–æ–¥–æ–≤
    'employees_calculated' => 232,   // –≤—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
    'managers_calculated' => 116     // –≤—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
]
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
$reward = new Reward();

// –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è (–º–µ—Å—è—á–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã)
$results = $reward->calculateForEveryoneAllTime('monthly');

echo "–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø–µ—Ä–∏–æ–¥–æ–≤: " . $results['total_periods'];
echo "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: " . $results['employees_calculated'];
echo "–ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: " . $results['managers_calculated'];
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CSRF —Ç–æ–∫–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –º–µ–∂—Å–∞–π—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ CEO)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ JavaScript `confirm()`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ (–µ—Å–ª–∏ –æ–¥–∏–Ω –ø–µ—Ä–∏–æ–¥ –Ω–µ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç—Å—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É)
